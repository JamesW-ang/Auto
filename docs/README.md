# COTUI é¡¹ç›®æ–‡æ¡£ç´¢å¼•

> ğŸ“š æ‰€æœ‰é¡¹ç›®æ–‡æ¡£é›†ä¸­ç®¡ç†ï¼Œæ–¹ä¾¿æŸ¥é˜…

---

## ğŸ“– æ–‡æ¡£ç›®å½•

### ğŸŒ å…¨å±€å˜é‡ç³»ç»Ÿ

#### [Gvar å¿«é€Ÿå‚è€ƒå¡ç‰‡](./Gvarå¿«é€Ÿå‚è€ƒå¡ç‰‡.md)
å¿«é€ŸæŸ¥è¯¢æ‰‹å†Œï¼ŒåŒ…å«å¸¸ç”¨APIå’Œæ¨¡å¼ç¤ºä¾‹
- å¿«æ·è®¿é—®å•ä¾‹æœåŠ¡
- ç”¨æˆ·ä¸æƒé™ç®¡ç†
- ç”Ÿäº§ç»Ÿè®¡ï¼ˆè‡ªåŠ¨ç¼“å­˜ï¼‰
- è®¾å¤‡è¿æ¥çŠ¶æ€
- å¸¸ç”¨æ¨¡å¼ç¤ºä¾‹

#### [Gvar ä½¿ç”¨æŒ‡å—](./Gvarä½¿ç”¨æŒ‡å—.md)
å®Œæ•´çš„å…¨å±€å˜é‡ä½¿ç”¨æ–‡æ¡£ï¼ˆ1058è¡Œï¼‰
- æ ¸å¿ƒå±‚ã€ä¸šåŠ¡å±‚ã€æ‰©å±•å±‚è¯¦ç»†è¯´æ˜
- å…¸å‹ä½¿ç”¨åœºæ™¯ç¤ºä¾‹
- æ€§èƒ½åˆ†æä¸æœ€ä½³å®è·µ
- å¸¸è§é—®é¢˜è§£ç­”

#### [è¿ç§»æŒ‡å—](./è¿ç§»æŒ‡å—.md)
ä»æ—§ä»£ç è¿ç§»åˆ°å…¨å±€å˜é‡ï¼ˆ540è¡Œï¼‰
- 4é˜¶æ®µè¿ç§»è®¡åˆ’
- VS Codeæ‰¹é‡æ›¿æ¢å‘½ä»¤
- éªŒè¯è„šæœ¬
- æ€§èƒ½å¯¹æ¯”åˆ†æ

#### [åº”ç”¨æ€»ç»“](./åº”ç”¨æ€»ç»“.md)
å…¨å±€å˜é‡åº”ç”¨æ€»ç»“æŠ¥å‘Šï¼ˆ391è¡Œï¼‰
- æ‰§è¡Œæƒ…å†µç»Ÿè®¡
- æ€§èƒ½æå‡åˆ†æ
- å½±å“èŒƒå›´è¯¦æƒ…

---

### ğŸ”§ ç¡¬ä»¶é€šä¿¡æ¡†æ¶

#### [Hardware æ¡†æ¶è¯´æ˜](./Hardwareæ¡†æ¶è¯´æ˜.md)
ç¡¬ä»¶è®¾å¤‡é€šä¿¡æ¶æ„
- æ¥å£è®¾è®¡ï¼ˆIHardwareDeviceï¼‰
- Modbus TCPå®ç°ï¼ˆ8ä¸ªåŠŸèƒ½ç ï¼‰
- é€šç”¨TCPè®¾å¤‡
- æ‰©å±•æŒ‡å—

#### [HardwareTestForm ä½¿ç”¨è¯´æ˜](./HardwareTestFormä½¿ç”¨è¯´æ˜.md)
æµ‹è¯•å·¥å…·æ–‡æ¡£ï¼ˆ449è¡Œï¼‰
- å¯åŠ¨æ–¹æ³•
- Modbus TCPæµ‹è¯•æ­¥éª¤
- é€šç”¨TCPæµ‹è¯•æ­¥éª¤
- æ¨¡æ‹Ÿå™¨é…ç½®
- FAQå’Œæ—¥å¿—åˆ†æ

---

## ğŸ” å¿«é€ŸæŸ¥æ‰¾

### éœ€è¦äº†è§£å…¨å±€å˜é‡ï¼Ÿ
1. **æ–°æ‰‹å…¥é—¨** â†’ [Gvar å¿«é€Ÿå‚è€ƒå¡ç‰‡](./Gvarå¿«é€Ÿå‚è€ƒå¡ç‰‡.md)
2. **è¯¦ç»†ä½¿ç”¨** â†’ [Gvar ä½¿ç”¨æŒ‡å—](./Gvarä½¿ç”¨æŒ‡å—.md)
3. **ä»£ç è¿ç§»** â†’ [è¿ç§»æŒ‡å—](./è¿ç§»æŒ‡å—.md)

### éœ€è¦ç¡¬ä»¶é€šä¿¡ï¼Ÿ
1. **æ¶æ„äº†è§£** â†’ [Hardware æ¡†æ¶è¯´æ˜](./Hardwareæ¡†æ¶è¯´æ˜.md)
2. **åŠŸèƒ½æµ‹è¯•** â†’ [HardwareTestForm ä½¿ç”¨è¯´æ˜](./HardwareTestFormä½¿ç”¨è¯´æ˜.md)

### æŸ¥çœ‹åº”ç”¨æ•ˆæœï¼Ÿ
â†’ [åº”ç”¨æ€»ç»“](./åº”ç”¨æ€»ç»“.md)

---

## ğŸ“Š æ¨èé˜…è¯»é¡ºåº

### åˆæ¬¡æ¥è§¦é¡¹ç›®
1. [åº”ç”¨æ€»ç»“](./åº”ç”¨æ€»ç»“.md) - äº†è§£é¡¹ç›®æ•´ä½“æƒ…å†µ
2. [Gvar å¿«é€Ÿå‚è€ƒå¡ç‰‡](./Gvarå¿«é€Ÿå‚è€ƒå¡ç‰‡.md) - å¿«é€Ÿä¸Šæ‰‹å…¨å±€å˜é‡
3. [Hardware æ¡†æ¶è¯´æ˜](./Hardwareæ¡†æ¶è¯´æ˜.md) - äº†è§£ç¡¬ä»¶é€šä¿¡æ¶æ„

### æ·±å…¥å¼€å‘
1. [Gvar ä½¿ç”¨æŒ‡å—](./Gvarä½¿ç”¨æŒ‡å—.md) - æŒæ¡å…¨å±€å˜é‡æ‰€æœ‰åŠŸèƒ½
2. [HardwareTestForm ä½¿ç”¨è¯´æ˜](./HardwareTestFormä½¿ç”¨è¯´æ˜.md) - å­¦ä¹ ç¡¬ä»¶æµ‹è¯•

### ç»´æŠ¤å‡çº§
1. [è¿ç§»æŒ‡å—](./è¿ç§»æŒ‡å—.md) - äº†è§£å¦‚ä½•è¿ç§»æ—§ä»£ç 
2. [åº”ç”¨æ€»ç»“](./åº”ç”¨æ€»ç»“.md) - æŸ¥çœ‹ä¼˜åŒ–æ•ˆæœ

---

## ğŸ“ˆ æ–‡æ¡£ç»Ÿè®¡

| ç±»åˆ« | æ–‡æ¡£æ•° | æ€»è¡Œæ•° |
|------|--------|--------|
| å…¨å±€å˜é‡ç³»ç»Ÿ | 4 | 2,161 |
| ç¡¬ä»¶é€šä¿¡æ¡†æ¶ | 2 | 449+ |
| **æ€»è®¡** | **6** | **2,610+** |

---

**é¡¹ç›®åœ°å€**: https://github.com/JamesW-ang/Auto  
**æœ€åæ›´æ–°**: 2025-11-29

---

<details>
<summary>ğŸ“ Gvar å¿«é€Ÿå‚è€ƒå¡ç‰‡å†…å®¹é¢„è§ˆ</summary>

# Gvar å¿«é€Ÿå‚è€ƒå¡ç‰‡ (Quick Reference)

## ğŸš€ å¿«æ·è®¿é—®å•ä¾‹æœåŠ¡
```csharp
Gvar.Logger.Info("æ—¥å¿—æ¶ˆæ¯");              // æ—¥å¿—æœåŠ¡
Gvar.DB.ExecuteQuery("SELECT ...");      // æ•°æ®åº“æœåŠ¡  
Gvar.Config.GetValue("Group", "Key");    // é…ç½®ç®¡ç†å™¨
Gvar.Mqtt.PublishAsync("topic", "msg");  // MQTTæœåŠ¡
```

## ğŸ‘¤ ç”¨æˆ·ä¸æƒé™
```csharp
Gvar.User = "admin";                     // è®¾ç½®å½“å‰ç”¨æˆ·
Gvar.CurrentStation = "å·¥ç«™1";           // è®¾ç½®å½“å‰å·¥ç«™

bool isAdmin = Gvar.Permission.IsAdmin;         // æ˜¯å¦ç®¡ç†å‘˜ï¼ˆâ‰¥5ï¼‰
bool isOperator = Gvar.Permission.IsOperator;   // æ˜¯å¦æ“ä½œå‘˜ï¼ˆâ‰¥3ï¼‰
Gvar.Permission.ClearCache();                   // æ³¨é”€æ—¶æ¸…é™¤ç¼“å­˜
```

## ğŸ“Š ç”Ÿäº§ç»Ÿè®¡ï¼ˆè‡ªåŠ¨ç¼“å­˜5ç§’ï¼‰
```csharp
int total = Gvar.Production.TodayTotalCount;     // ä»Šæ—¥æ€»äº§é‡
int ok = Gvar.Production.TodayOkCount;           // ä»Šæ—¥åˆæ ¼æ•°
int ng = Gvar.Production.TodayNgCount;           // ä»Šæ—¥ä¸è‰¯æ•°
double rate = Gvar.Production.TodayYieldRate;    // ä»Šæ—¥è‰¯ç‡ï¼ˆ%ï¼‰

Gvar.Production.RefreshCache();                  // å¼ºåˆ¶åˆ·æ–°ç¼“å­˜
```

## ğŸŒ è®¾å¤‡è¿æ¥çŠ¶æ€
```csharp
Gvar.Communication.IsPlcConnected = true;        // è®¾ç½®PLCçŠ¶æ€
Gvar.Communication.IsVisionConnected = true;     // è®¾ç½®è§†è§‰çŠ¶æ€

bool mqttOk = Gvar.Communication.IsMqttConnected;        // è·å–MQTTçŠ¶æ€
bool allOk = Gvar.Communication.IsAllCriticalDevicesConnected;  // æ‰€æœ‰å…³é”®è®¾å¤‡æ˜¯å¦å°±ç»ª
string summary = Gvar.Communication.GetConnectionSummary();      // çŠ¶æ€æ‘˜è¦
```

## âš™ï¸ ç³»ç»Ÿé…ç½®
```csharp
Gvar.System.IsDebugMode = true;                  // å¯ç”¨è°ƒè¯•æ¨¡å¼
Gvar.System.Version = "1.2.0";                   // è®¾ç½®ç‰ˆæœ¬å·
TimeSpan uptime = Gvar.System.Uptime;            // åº”ç”¨è¿è¡Œæ—¶é•¿
```

## ğŸ–¥ï¸ UIçŠ¶æ€
```csharp
Gvar.UI.MainForm = new MainForm();               // è®¾ç½®ä¸»çª—ä½“å¼•ç”¨
Gvar.UI.MainForm?.BringToFront();                // æ¿€æ´»ä¸»çª—ä½“
Gvar.UI.CurrentPageName = "ç”Ÿäº§ç›‘æ§";             // è®¾ç½®å½“å‰é¡µé¢å
```

## ğŸ’¾ ä¸´æ—¶æ•°æ®ä¼ é€’
```csharp
// çª—ä½“Aï¼šè®¾ç½®æ•°æ®
Gvar.TempData.Set("ProductId", 12345);
Gvar.TempData.Set("EditMode", true);

// çª—ä½“Bï¼šè·å–æ•°æ®
int id = Gvar.TempData.Get<int>("ProductId");
bool edit = Gvar.TempData.Get<bool>("EditMode");

// ä½¿ç”¨å®Œæ¯•ï¼šæ¸…é™¤æ•°æ®
Gvar.TempData.Clear("ProductId");
Gvar.TempData.Clear();  // æ¸…é™¤æ‰€æœ‰
```

## ğŸ“ å¸¸ç”¨æ¨¡å¼

### ç™»å½•æµç¨‹
```csharp
private void OnLoginSuccess(string username)
{
    Gvar.User = username;
    Gvar.Permission.CurrentUserLevel = Gvar.DB.GetUserPermissionLevel(username);
    UpdateUIPermissions();
}

private void Logout()
{
    Gvar.User = "";
    Gvar.Permission.ClearCache();
}
```

### ä»ªè¡¨ç›˜åˆ·æ–°ï¼ˆç¼“å­˜ä¼˜åŒ–ï¼‰
```csharp
private void Timer_Tick(object sender, EventArgs e)
{
    // æ¯ç§’è°ƒç”¨ï¼Œä½†5ç§’å†…åªæŸ¥è¯¢ä¸€æ¬¡æ•°æ®åº“
    lblTotal.Text = Gvar.Production.TodayTotalCount.ToString();
    lblOk.Text = Gvar.Production.TodayOkCount.ToString();
    lblYield.Text = $"{Gvar.Production.TodayYieldRate:F2}%";
}
```

### æ’å…¥æ•°æ®ååˆ·æ–°
```csharp
private void SaveProductionData(ProductionData data)
{
    Gvar.DB.ExecuteNonQuery("INSERT INTO ProductionData ...");
    Gvar.Production.RefreshCache();  // ç«‹å³åˆ·æ–°ç¼“å­˜
}
```

### æƒé™æ§åˆ¶
```csharp
private void UpdateButtonPermissions()
{
    btnDelete.Enabled = Gvar.Permission.IsAdmin;
    btnEdit.Enabled = Gvar.Permission.IsOperator;
    btnView.Enabled = !Gvar.Permission.IsViewOnly;
}
```

### è®¾å¤‡è¿æ¥ç®¡ç†
```csharp
private void OnDeviceConnected(object sender, EventArgs e)
{
    Gvar.Communication.IsPlcConnected = true;
    statusLabel.Text = Gvar.Communication.GetConnectionSummary();
    
    if (Gvar.Communication.IsAllCriticalDevicesConnected)
    {
        btnStart.Enabled = true;
    }
}
```

## âš¡ æ€§èƒ½æç¤º

âœ… **æ¨è**ï¼šä½¿ç”¨ `Gvar` å¿«æ·å±æ€§
```csharp
Gvar.Logger.Info("æ¶ˆæ¯");  // é›¶å¼€é”€
```

âŒ **ä¸æ¨è**ï¼šé‡å¤è°ƒç”¨ `GetInstance()`
```csharp
Logger.GetInstance().Info("æ¶ˆæ¯");  // æ¯æ¬¡éƒ½è°ƒç”¨å•ä¾‹æŸ¥æ‰¾
```

âœ… **æ¨è**ï¼šä¾èµ–è‡ªåŠ¨ç¼“å­˜
```csharp
// ä»ªè¡¨ç›˜æ¯ç§’åˆ·æ–°ï¼Œä½†5ç§’æ‰æŸ¥è¯¢ä¸€æ¬¡æ•°æ®åº“
int count = Gvar.Production.TodayTotalCount;
```

âœ… **æ¨è**ï¼šæ•°æ®å˜æ›´åä¸»åŠ¨åˆ·æ–°
```csharp
Gvar.DB.ExecuteNonQuery("INSERT ...");
Gvar.Production.RefreshCache();  // ç«‹å³åˆ·æ–°
```

## ğŸ“¦ å†…å­˜ä¸æ€§èƒ½

| æŒ‡æ ‡ | æ•°å€¼ |
|------|------|
| æ€»å†…å­˜å ç”¨ | < 2 KB |
| æ€§èƒ½å½±å“ | < 0.01% |
| ç¼“å­˜æ—¶é—´ | 5 ç§’ |
| æ€§èƒ½æå‡ | å‡å°‘ 80% æ•°æ®åº“æŸ¥è¯¢ |

---

**è¯¦ç»†æ–‡æ¡£**: 
- [Gvarä½¿ç”¨æŒ‡å—.md](./Gvarä½¿ç”¨æŒ‡å—.md)
- [è¿ç§»æŒ‡å—.md](./è¿ç§»æŒ‡å—.md)

**ç‰ˆæœ¬**: 1.0.0  
**æ›´æ–°**: 2025-11-29
